[pck](https://github.com/localvoid/pck) serialization and deserialization helper functions for Node environment.

## API

### Writer

```ts
class Writer {
  size: number;
  // private props ...
}
```

`Writer` object is used to collect data that will be serialized into a `Buffer` with `serialize` function.

### Serialization

```ts
function serialize(w: Writer, d: Uint8Array, offset = 0): void;
```

`serialize` function serializes `Writer` data into `Uint8Array` starting at `offset`.

### ReadBuffer

```ts
interface ReadBuffer {
  readonly u: Uint8Array;
  o: number;
}
```

`ReadBuffer` is used to read data from buffer.

### Typed Writers and Readers

| Type         | Serializer               | Deserializer            |
| ---          | ---                      | ---                     |
| Bool         | writeBitSet              | readU8/readU16/readU32  |
| I8           | writeI8                  | readI8                  |
| U8           | writeI8                  | readU8                  |
| I16          | writeI16                 | readI16                 |
| U16          | writeI16                 | readU16                 |
| I32          | writeI32                 | readI32                 |
| U32          | writeI32                 | readU32                 |
| F32          | writeF32                 | readF32                 |
| F64          | writeF64                 | readF64                 |
| IVAR         | writeIVar                | readIVar                |
| UVAR         | writeUVar                | readUVar                |
| UTF8         | writeUtf8                | readUtf8                |
| ASCII        | writeAscii               | readAscii               |
| BYTES        | writeBytes               | readBytes               |
| ARRAY        | writeArray               | readArray               |
| MAP(K,V)     | writeMap                 | readMap                 |
| ASCII(N)     | writeFixedUtf8           | readFixedUtf8           |
| ASCII(N>64)  | writeFixedUtf8           | readLongFixedAscii      |
| ASCII(N>128) | writeLongFixedAscii      | readLongFixedAscii      |
| BYTES(N)     | writeFixedBytes          | readFixedBytes          |
| ARRAY(N)     | writeFixedArray          | readFixedArray          |
| REF(T)       | (Serializer).pck()       | autogenerated functions |
| ONE_OF(T...) | (Serializer).pck(tagged) | readOneOf               |

#### Refs

`REF` and `ONE_OF` types are referencing `Serializable` objects.

```ts
interface Serializable {
  pck(w: Writer, tag?: boolean): void;
}
```

All `Serializable` objects should implement `pck` method.

When `tag` argument is `true`, `pck` method should prepend a tag identifier that uniquely identifies an object.
